I"·M<p><img src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/title.png?raw=true" alt="í‘œì œ ì´ë¯¸ì§€" /></p>

<h2 id="view--controller">View &amp; Controller</h2>

<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” View ë° Controllerì— ëŒ€í•´ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•˜ê² ë‹¤.</p>

<h3 id="1-viewì˜-ê³µí†µ-ë©”ì„œë“œ">1. Viewì˜ ê³µí†µ ë©”ì„œë“œ</h3>

<p>ë¨¼ì € Viewì˜ ê³µí†µ ë©”ì„œë“œë¥¼ ì •ì˜í•œ View.jsì— ëŒ€í•´ ì‚´í´ë³´ì.<br />
View.jsëŠ” í•˜ë‚˜ì˜ ê°ì²´ë¡œ ì •ì˜ë˜ë©°, ê·¸ ì•ˆì— 4ê°œì˜ ë©”ì„œë“œë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤.</p>

<h4 id="1-init">1) init</h4>

<pre><code class="language-Javascript">export default {
  init(element) {
    if (!element) {
      throw new Error(`elementê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.`);
    }
    this.element = element;
    return this;
  },
</code></pre>

<p>ì²« ë²ˆì§¸ ë©”ì„œë“œëŠ” initì´ë‹¤.<br />
initì€ element íŒŒë¼ë¯¸í„°ë¡œ html ìš”ì†Œë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.<br />
html ìš”ì†Œê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³ , ì¡´ì¬í•˜ë©´ this.elementì— í• ë‹¹í•œë‹¤.</p>

<p>ì˜ˆë¥¼ ë“¤ì–´, html ìš”ì†Œì¸ #pageê°€ ì „ë‹¬ë˜ëŠ” ê²½ìš°,<br />
<code class="language-plaintext highlighter-rouge">this.element = #page</code> ì´ë ‡ê²Œ í• ë‹¹ë˜ëŠ” ì‹ì´ë‹¤.</p>

<p>ì´ this.elementì˜ ì—­í• ì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.<br />
<u>this.elementëŠ” Viewì˜ ìµœìƒìœ„ ìš”ì†Œë¡œ, í•´ë‹¹ Viewê°€ í™”ë©´ì— ê·¸ë ¤ì§€ëŠ” ê¸°ì¤€ì ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.</u></p>

<p>Viewê°€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë Œë”ë§, ì¦‰ í™”ë©´ì— ê·¸ë ¤ì§€ëŠ”ì§€ ê°„ë‹¨íˆ ì–¸ê¸‰í•˜ê² ë‹¤.<br />
<u>ViewëŠ” í•˜ìœ„ html ìš”ì†Œë“¤ì„ ìƒì„±í•œ ë’¤ì— this.elementì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.</u><br />
<u>this.elementëŠ” DOM ìš”ì†Œì´ë¯€ë¡œ ìì‹ ìš”ì†Œë“¤ì„ ì¶”ê°€í•˜ë©´</u><br />
<u>DOM íŠ¸ë¦¬ê°€ ë‹¤ì‹œ ìƒì„±ë˜ê³  ë¸Œë¼ìš°ì €ì˜ í™”ë©´ì´ ìƒˆë¡­ê²Œ ë Œë”ë§ëœë‹¤.</u></p>

<p><img style="margin-left: 0; width: 90%;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/3_1.png?raw=true" alt="documentFragment" /></p>

<p><br />
ì´ê²ƒì€ ë’¤ì— ë‚˜ì˜¤ëŠ” replaceChildren íŒŒíŠ¸ì—ì„œ ë‹¤ì‹œ ì„¤ëª…í•˜ê² ë‹¤.</p>

<h4 id="2-on">2) on</h4>

<pre><code class="language-Javascript">  on(event, handler) {
    this.element.addEventListener(event, handler);
    return this;
  },
</code></pre>

<p>onì€ this.elementì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•œë‹¤.<br />
<u>íŠ¹íˆ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” ìš©ë„ë¡œ ìì£¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤.</u><br />
onì€ thisë¥¼ ë°˜í™˜í•˜ëŠ”ë°, ì´ëŠ” ì•ì„œ ì„¤ëª…í•œ â€˜ë©”ì„œë“œ ì²´ì´ë‹â€™ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì´ë‹¤.<br />
íŠ¹íˆ onì€ ì‚¬ìš© ë¹ˆë„ê°€ ë†’ìœ¼ë¯€ë¡œ ì´ ê¸°ë²•ì´ ìœ ìš©í•˜ë‹¤.</p>

<p>í˜¹ì‹œ Vueë¥¼ ë‹¤ë£¨ì–´ë´¤ë‹¤ë©´, ì´ onì´ë¼ëŠ” ë©”ì„œë“œê°€ ìµìˆ™í•˜ê²Œ ëŠê»´ì§ˆ ê²ƒì´ë‹¤.<br />
ê·¸ë ‡ë‹¤. ì´ onì´ë¼ëŠ” ë©”ì„œë“œì˜ ì´ë¦„ì€<br />
Vueì—ì„œ ì´ë²¤íŠ¸ë¥¼ í•¸ë“¤ë§í•˜ëŠ” ë””ë ‰í‹°ë¸Œì¸ <code class="language-plaintext highlighter-rouge">v-on</code>ì—ì„œ ë¹Œë ¤ì˜¨ ê²ƒì´ë©°, ê¸°ëŠ¥ë„ ìœ ì‚¬í•˜ë‹¤.</p>

<p><a href="https://kr.vuejs.org/v2/guide/events.html" target="_blank">v-on ë””ë ‰í‹°ë¸Œ</a></p>

<h4 id="3-dispatch">3) dispatch</h4>

<pre><code class="language-Javascript">  dispatch(event, data) {
    const customEvent = new CustomEvent(event, { detail: data });
    this.element.dispatchEvent(customEvent);
    return this;
  },
</code></pre>

<p>dispatchëŠ” ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•œ ë’¤, ì´ë¥¼ ë””ìŠ¤íŒ¨ì¹˜(ë°œìƒ)ì‹œí‚¨ë‹¤.<br />
ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì´ë²¤íŠ¸ì™€ í•¨ê»˜ ì „ë‹¬í•˜ê³  ì‹¶ì€ ì •ë³´ì¸ dataë¥¼ ì „ë‹¬ë°›ìœ¼ë©°,<br />
ì´ê²ƒì„ detail í”„ë¡œí¼í‹°ë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ì— í¬í•¨ì‹œí‚¨ë‹¤.</p>

<p>ì—¬ê¸°ì„œ ì ê¹!</p>

<p style="font-size: 1.07rem;">"ì™œ ê¸°ì¡´ì˜ dispatchEvent ë©”ì„œë“œë¥¼ ë‘ê³  ì„ì˜ì˜ dispatch ë©”ì„œë“œë¥¼ ë§Œë“¤ì—ˆì„ê¹Œ?"</p>

<p>ìš°ì„  ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì´ í•„ìš”í•˜ë‹¤.<br />
ê¸°ë³¸ì ìœ¼ë¡œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ëŠ” ë‹¤ìŒì˜ ì„¸ ë‹¨ê³„ë¥¼ ê±°ì³ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p>

<ol>
  <li>ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ =&gt; <code class="language-plaintext highlighter-rouge">on</code>ì´ ë‹´ë‹¹í•œë‹¤.</li>
  <li>ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ê°ì²´ ìƒì„±</li>
  <li>ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜</li>
</ol>

<p>ê¸°ì¡´ì˜ dispatchEventëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 3ë²ˆ ë‹¨ê³„ë¥¼ ë‹´ë‹¹í•˜ëŠ” ë©”ì„œë“œë‹¤.<br />
ì¦‰ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ë‚œ ë’¤ì—ì•¼, dispatchEventë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.<br />
ë˜ëŠ” ì¸ìë¡œ ì „ë‹¬í•  ìˆ˜ë„ ìˆì§€ë§Œ ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤.<br />
ë‹¤ìŒì„ ë³´ì.</p>

<pre><code class="language-Javascript">// ê¸°ì¡´ì˜ dispatchEventë¥¼ ì‚¬ìš©í•œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ì˜ ë””ìŠ¤íŒ¨ì¹˜
View.dispatchEvent(
  new customEvent('@click', {
    detail: { message: 'Hello' },
  })
);
</code></pre>

<p><u>ë°˜ë©´ì— ë‚˜ì˜ dispatch ë©”ì„œë“œëŠ” 2, 3ë²ˆ ë‹¨ê³„ë¥¼ í†µí•©í•œ ë©”ì„œë“œì´ë‹¤.</u><br />
ê·¸ë¦¬ê³  ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë¡œì§ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬í•´ ì‚¬ìš©ì´ í¸ë¦¬í•˜ë‹¤.<br />
ë‹¤ìŒì„ ë³´ì.</p>

<pre><code class="language-Javascript">// dispatchë¥¼ ì‚¬ìš©í•œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ì˜ ë””ìŠ¤íŒ¨ì¹˜
View.dispatch('@click', { message: 'Hello' });
</code></pre>

<p>ë³´ë‹¤ì‹œí”¼ ì½”ë“œê°€ í›¨ì”¬ ê°„ê²°í•´ì§€ê³  ì‚¬ìš©ì´ í¸ë¦¬í•´ì¡Œë‹¤.<br />
ë°˜ë³µì ì¸ ì½”ë“œì˜ ì‚¬ìš©ì„ ì œê±°í•˜ì˜€ê¸° ë•Œë¬¸ì´ë‹¤.<br />
ì´ê²ƒì´ dispatchë¼ëŠ” ì„ì˜ì˜ ë©”ì„œë“œë¥¼ ë§Œë“  ì´ìœ ì´ë‹¤.</p>

<h4 id="4-replacechildren">4) replaceChildren</h4>

<pre><code class="language-Javascript">  replaceChildren(html) {
    const template = document.createElement('template');
    template.innerHTML = html;
    this.element.replaceChildren(template.content);
  }
};
</code></pre>

<p>replaceChildrenì€ html ë¬¸ìì—´ì„ template ìš”ì†Œë¡œ ê°ì‹¼ ë’¤,<br />
this.elementì˜ ìƒˆë¡œìš´ ìì‹ ìš”ì†Œë¡œ êµì²´í•˜ëŠ” ë©”ì„œë“œë‹¤.</p>

<p>ë¨¼ì € ì„ì˜ì˜ template ìš”ì†Œë¥¼ ë§Œë“  í›„,<br />
ì „ë‹¬ë°›ì€ html ë¬¸ìì—´ì„ template ìš”ì†Œ ë‚´ë¶€ì— í¬í•¨ì‹œí‚¨ë‹¤.</p>

<p>template.contentì—ëŠ” <strong>DocumentFragment</strong>ê°€ ë‹´ê²¨ ìˆë‹¤.<br />
<u>DocumentFragmentëŠ” Templateì´ ë‹´ê³  ìˆëŠ” DOMì˜ í•˜ìœ„ íŠ¸ë¦¬ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.</u><br />
<u>DOMì— ì¶”ê°€í•˜ë©´ ìì‹ ì€ ì œê±°ë˜ê³  ìì‹ ì—˜ë¦¬ë¨¼íŠ¸ë§Œ DOMì— ì¶”ê°€ë˜ëŠ” íŠ¹ì„±ì´ ìˆë‹¤.</u></p>

<p><a href="https://gitul0515.github.io/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/2022/01/01/DocumentFragment-%EB%85%B8%EB%93%9C-%EC%A0%95%EB%A6%AC-copy-2.html" target="_blank">DocumentFragment ê°ì²´</a></p>

<p>this.elementì˜ ìì‹ìœ¼ë¡œ ì´ DocumentFragmentë¥¼ ì¶”ê°€ ë° êµì²´í•œë‹¤.<br />
ì—¬ê¸°ì„œ ì´ë¦„ì€ ê°™ì§€ë§Œ ë‹¤ë¥¸ ë©”ì„œë“œì¸ replaceChildrenì„ ì‚¬ìš©í•œë‹¤.<br />
ì´ë¥¼ ë„ì‹ìœ¼ë¡œ ê°„ë‹¨íˆ ë‚˜íƒ€ë‚´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<p><img style="margin-left: 0; width: 90%;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/3_1.png?raw=true" alt="documentFragment" /></p>

<p><br /></p>

<p>ê·¸ëŸ¬ë©´ this.elementì˜ ìì‹ìœ¼ë¡œ html ìš”ì†Œë“¤ì´ ìƒˆë¡­ê²Œ ì¶”ê°€ëœë‹¤.<br />
ë°”ë¡œ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ Viewê°€ í™”ë©´ì— ê·¸ë ¤ì§€ê²Œ ëœë‹¤.</p>

<p>í•œí¸, ë‚´ê°€ ë§Œë“  replaceChildrenì€ Viewì˜ ë©”ì„œë“œì´ë‹¤.<br />
this.elementì˜ ë©”ì„œë“œë¡œ ì‚¬ìš©í•œ replaceChildrenê³¼ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì— ì£¼ì˜í•˜ê¸° ë°”ë€ë‹¤.<br />
<u>this.elementì˜ ë©”ì„œë“œ replaceChildrenì€ WEB APIsì˜ ì •ê·œ ë©”ì„œë“œì´ë‹¤.</u></p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/replaceChildren" target="_blank">replaceChildren - MDN</a></p>

<p>ê·¸ëŸ¼ ë˜ ì˜ë¬¸ì´ ìƒê¸¸ ê²ƒì´ë‹¤.</p>

<p style="font-size: 1.07rem;">"ê¸°ì¡´ì˜ replaceChildren ë©”ì„œë“œì™€ì˜ ì°¨ì´ì ì´ ë­”ê°€ìš”? ì™œ ë§Œë“¤ì—ˆì£ ?"</p>

<p><u>ê·¸ê²ƒì€ ê¸°ì¡´ì˜ replaceChildrenì´ í—ˆìš©í•˜ëŠ” ì¸ìì˜ íƒ€ì… ë•Œë¬¸ì´ë‹¤.</u></p>

<p>ê¸°ì¡´ì˜ replaceChildrenì€ ì¸ìë¡œ â€˜ë…¸ë“œ ë˜ëŠ” ë¬¸ìì—´ ê°ì²´ì˜ ì§‘í•©â€™ì„ ìš”êµ¬í•œë‹¤.<br />
mdnì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ëª…ì‹œí•˜ê³  ìˆë‹¤.</p>

<blockquote>
  <p>Parameters<br />
A set of Node or string objects to replace the Elementâ€™s existing children with.</p>
</blockquote>

<p>í•´ì„: íŒŒë¼ë¯¸í„°ëŠ” ìš”ì†Œì˜ ê¸°ì¡´ ìì‹ì„ ëŒ€ì²´í•  ë…¸ë“œ ë˜ëŠ” ë¬¸ìì—´ ê°ì²´ì˜ ì§‘í•©ì…ë‹ˆë‹¤.</p>

<p>ì´ê²ƒì´ ë¬´ìŠ¨ ë§ì´ëƒí•˜ë©´â€¦<br />
html ë¬¸ìì—´, ì˜ˆì»¨ëŒ€ <code class="language-plaintext highlighter-rouge">&lt;h1&gt;hello&lt;/h1&gt;</code>ì€ replaceChildrenì˜ ì¸ìë¡œ ì „ë‹¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤.<br />
ì™œëƒí•˜ë©´ ì´ê²ƒì€ ë‹¨ì§€ ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì´ë‹¤.<br />
<u>ê²°êµ­ ì´ html ë¬¸ìì—´ì„ ë…¸ë“œ(ë˜ëŠ” ë¬¸ìì—´ ê°ì²´)ì˜ ì§‘í•©ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.</u></p>

<p><u>ì´ ë³€í™˜ ê³¼ì •ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë¼ê³  replaceChildrenë¼ëŠ” ì„ì˜ì˜ ë©”ì„œë“œë¥¼ ë§Œë“¤ì—ˆë‹¤.</u><br />
template ìš”ì†Œë¥¼ ë§Œë“¤ì–´ html ë¬¸ìì—´ì„ í¬í•¨ì‹œí‚¨ ê²ƒì´ ê·¸ê²ƒì´ì—ˆë‹¤.</p>

<p>ê²°ê³¼ì ìœ¼ë¡œ ë¬´ì—‡ì´ ê°€ëŠ¥í•´ì¡ŒëŠ”ê°€?<br />
<u>ì´ì œ ë‚˜ì˜ replaceChildrenì€ html ë¬¸ìì—´ë„ ì¸ìë¡œ ë°›ì„ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.</u><br />
ë…¸ë“œë¡œì˜ ë³€í™˜ ê³¼ì •ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ê¸° ë•Œë¬¸ì—, ì‚¬ìš©ì(ë‚˜)ëŠ” ê·¸ê±¸ ì‹ ê²½ ì“¸ í•„ìš” ì—†ë‹¤.<br />
<u>ë•ë¶„ì— replaceChildrenì˜ ì‚¬ìš©ì´ ê°„í¸í•´ì¡Œë‹¤ëŠ” ê²ƒì´ ì–»ì€ íš¨ê³¼ì´ë‹¤.</u></p>

<hr />

<p>ì§€ê¸ˆê¹Œì§€ ì„¤ëª…í•œ init, on, dispatch, replaceChildrenì€<br />
<u>ë‹¤ë¥¸ ëª¨ë“  View ê°ì²´ë“¤ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µí†µ ë©”ì„œë“œë¼ëŠ” ê²ƒì„ ë§í•´ë‘ê² ë‹¤.</u><br />
<u>ì´ê²ƒì€ View.jsì˜ ê°ì²´ë¥¼ ë‹¤ë¥¸ ëª¨ë“  View ê°ì²´ë“¤ì´ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ìƒì†ë°›ê¸° ë•Œë¬¸ì´ë‹¤.</u></p>

<p>ì´ëŸ¬í•œ ì‚¬ì‹¤ì„ ì—¼ë‘ì— ë‘ê³ ,<br />
ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ Viewì™€ Controllerì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê² ë‹¤.<br />
ì°¸ê³ ë¡œ ìš°ë¦¬ëŠ” ì•±ì˜ ë‹¤ìŒ ì§€ì ì„ ì‚´í´ë³´ê³  ìˆëŠ” ê²ƒì´ë‹¤.</p>

<p><img style="margin-left: 0;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/3_3.png?raw=true" alt="ì„¤ê³„ë„" /></p>

<h3 id="2-ë„¤ë¹„ê²Œì´ì…˜-view">2. ë„¤ë¹„ê²Œì´ì…˜ View</h3>

<p>ë¨¼ì € NavigationViewì— ëŒ€í•´ì„œ ì‚´í´ë³´ì.<br />
NavigationViewëŠ” í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”ë¥¼ (í™”ë©´ì—) ê·¸ë¦¬ëŠ” ê²ƒì„ ë‹´ë‹¹í•œë‹¤.</p>

<p><img style="width: 250px; margin-left: 0;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/1_11.png?raw=true" alt="í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ì´ë¯¸ì§€" />
<br /></p>

<h4 id="1-ê°ì²´-ìƒì„±">1) ê°ì²´ ìƒì„±</h4>

<pre><code class="language-Javascript">import View from './View.js';

const NavigationView = Object.create(View);
</code></pre>

<p>ë¨¼ì € View.jsì˜ ê°ì²´ë¥¼ ë¶ˆëŸ¬ì˜¨ í›„,<br />
ì´ ê°ì²´ë¥¼ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ê°–ëŠ” NavigationView ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.<br />
ìƒìˆ í•˜ì˜€ë“¯, NavigationViewëŠ” View.js ê°ì²´ì˜ ë©”ì„œë“œë¥¼ ìƒì†ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>

<h4 id="2-setup">2) setup</h4>

<pre><code class="language-Javascript">NavigationView.setup = function (element) {
  this.init(element);
  this.render();
  this.setEvent();
  return this;
};
</code></pre>

<p>ê·¸ë¦¬ê³  setup ë©”ì„œë“œë¥¼ ì •ì˜í•œë‹¤.<br />
setupì€ html ìš”ì†Œì¸ elementë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.<br />
ì•ì„œ MainControllerì—ì„œ ì‚´í´ë´¤ë“¯ì´, ì´ elementëŠ” #navigation ìš”ì†Œê°€ ë  ê²ƒì´ë‹¤.</p>

<pre><code class="language-Javascript">// MainController.js
const navigation = document.getElementById('navigation');
// ...
init() {
  // ...
  NavigationView.setup(navigation);
  // ...
}
</code></pre>

<p>ì´ #navigation ìš”ì†Œë¥¼ initìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ í˜¸ì¶œí•œë‹¤.<br />
ê·¸ëŸ¬ë©´ ê²°ê³¼ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ í• ë‹¹ëœë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">NavigationView.element = #navigation ìš”ì†Œ</code><br />
NavigationViewì˜ ë Œë”ë§ ê¸°ì¤€ì ì„ ì„¤ì •í•œ ì…ˆì´ë‹¤.</p>

<p>ì´ì–´ renderì™€ setEvent ë©”ì„œë“œë¥¼ ì°¨ë¡€ë¡œ í˜¸ì¶œí•œë‹¤.</p>

<h4 id="3-render">3) render</h4>

<pre><code class="language-Javascript">NavigationView.render = function () {
  const html = this.getHtml();
  this.replaceChildren(html);
};

NavigationView.getHtml = function () {
  return `
    &lt;ul class="navigation__tabs"&gt;
      &lt;li class="navigation__tab"&gt;
        &lt;a href="/"&gt;
          &lt;i class="fa-solid fa-plus"&gt;&lt;/i&gt;
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="navigation__tab"&gt;
        &lt;a href="/book"&gt;
          &lt;i class="fa-solid fa-book-open-reader"&gt;&lt;/i&gt;
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="navigation__tab"&gt;
        &lt;a href="/note"&gt;
          &lt;i class="fa-solid fa-pen-to-square"&gt;&lt;/i&gt;
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="navigation__tab"&gt;
        &lt;a href="/setting"&gt;
          &lt;i class="fa-solid fa-square-poll-horizontal"&gt;&lt;/i&gt;
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  `;
};
</code></pre>

<p>renderëŠ” NavigationViewë¥¼ í™”ë©´ì— ê·¸ë¦¬ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.<br />
ë¨¼ì € getHtml ë©”ì„œë“œë¥¼ í†µí•´ html ë¬¸ìì—´ì„ ê°€ì ¸ì˜¨ë‹¤.</p>

<p>html ë¬¸ìì—´ì€ ul ë° liì˜ ë¦¬ìŠ¤íŠ¸ êµ¬ì„±ì´ë©°, ë¦¬ìŠ¤íŠ¸ë§ˆë‹¤ a íƒœê·¸ì™€ i íƒœê·¸ë¡œ êµ¬ì„±ëœë‹¤.</p>

<p>ê·¸ë¦¬ê³  ì´ html ë¬¸ìì—´ì„ replaceChildren ë©”ì„œë“œì— ì „ë‹¬í•œë‹¤.<br />
ê²°ê³¼ì ìœ¼ë¡œ this.elementì— html ìš”ì†Œë“¤ì´ ìì‹ìœ¼ë¡œ ì¶”ê°€ë  ê²ƒì´ë‹¤.</p>

<p>ì´ë ‡ê²Œ NavigationViewì˜ ë Œë”ë§ì´ ì™„ë£Œë˜ì—ˆë‹¤.</p>

<h4 id="4-setevent">4) setEvent</h4>

<pre><code class="language-Javascript">NavigationView.setEvent = function () {
  this.element.addEventListener('click', (e) =&gt; this.onClick(e));
};

NavigationView.onClick = function (e) {
  if (e.target.matches('#navigation &gt; a')) {
    e.preventDefault();
    const page = e.target.getAttribute('href');
    this.dispatch('@click', { page });
  }
};

</code></pre>

<p>setEventëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” í•¨ìˆ˜ë‹¤.<br />
this.elementì—ì„œ click ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ onClick ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.</p>

<p>onClickì„ ì‚´í´ë³´ì. a íƒœê·¸ê°€ í´ë¦­ë˜ì—ˆë‹¤ë©´,<br />
ìš°ì„  e.preventDefault ë©”ì„œë“œë¡œ a íƒœê·¸ì˜ ê¸°ë³¸ ë™ì‘(ìƒˆë¡œê³ ì¹¨)ì„ ë§‰ëŠ”ë‹¤.<br />
ê·¸ë¦¬ê³  a íƒœê·¸ì˜ href ì†ì„±ì—ì„œ í´ë¦­ëœ í˜ì´ì§€ ì •ë³´ë¥¼ ê°€ì ¸ ì˜¨ë‹¤.<br />
ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ @clickì„ ë°œìƒì‹œí‚¤ë©´ì„œ í˜ì´ì§€ ì •ë³´ë¥¼ ì „ë‹¬í•œë‹¤.</p>

<p><u>ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒë§Œì´ Viewì˜ ì—­í• ì´ë‹¤.</u><br />
ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡ ë° ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ Controllerì—ì„œ ë§¡ëŠ”ë‹¤.</p>

<p>ì´ì „ í¬ìŠ¤íŒ…ì˜ MainController ì½”ë“œë¥¼ ë‹¤ì‹œ ì‚´í´ë³´ì.</p>

<pre><code class="language-Javascript">// MainController.js
init() {
  // @click ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
  NavigationView.on('@click', (e) =&gt; this.onClick(e.detail.page));
  // ...
}
// ...
// @click ì´ë²¤íŠ¸ í•¸ë“¤ë§
onClick(page) {
  history.pushState(null, null, page);
  this.route();
}
</code></pre>

<p>MainControllerì˜ onClick ë©”ì„œë“œì—ì„œ pageë¥¼ ì „ë‹¬ë°›ê³ ,<br />
pageë¡œ url ê²½ë¡œë¥¼ ë³€ê²½ì‹œí‚¨ í›„, ë¼ìš°íŒ…ì„ ì‹¤í–‰í•œë‹¤.<br />
ê²°ê³¼ì ìœ¼ë¡œ í´ë¦­ëœ pageë¡œ í™”ë©´ì´ ì „í™˜ëœë‹¤.</p>

<p>í˜¹ì‹œ ì´í•´ê°€ ì˜ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì´ì „ í¬ìŠ¤íŒ…ì„ í•¨ê»˜ ì°¸ê³ í•´ ì£¼ì‹œê¸¸ ë¶€íƒë“œë¦°ë‹¤.<br />
<a href="https://gitul0515.github.io/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A6%AC%EB%B7%B0/2022/04/16/%EB%B6%81%EB%A0%88%EC%8A%A4%ED%8A%B82.html">ë¶ë ˆìŠ¤íŠ¸ 2</a></p>

<h4 id="5-hide--show">5) hide &amp; show</h4>

<pre><code class="language-Javascript">NavigationView.hide = function () {
  this.element.classList.add('hide');
};

NavigationView.show = function () {
  this.element.classList.remove('hide');
};
</code></pre>

<p>hideëŠ” NavigatoinViewë¥¼ í™”ë©´ì—ì„œ ì•ˆ ë³´ì´ê²Œ í•œë‹¤.<br />
this.elementì— â€˜hideâ€™ í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ë©´ <code class="language-plaintext highlighter-rouge">display: none</code>ì´ ì ìš©ë˜ì–´ ê°ì¶°ì§„ë‹¤.<br />
css ì½”ë“œëŠ” ìƒëµí•˜ê² ë‹¤.</p>

<p>showëŠ” NavigationViewë¥¼ í™”ë©´ì—ì„œ ë³´ì´ê²Œ í•œë‹¤. ê¸°ë³¸ ìƒíƒœì´ë‹¤.<br />
<code class="language-plaintext highlighter-rouge">display: none</code>ì˜ ì ìš©ì„ ì œê±°í•¨ìœ¼ë¡œì¨ ê°€ëŠ¥í•˜ë‹¤.</p>

<p>ìƒí™©ì— ë”°ë¼ NavigationViewë¥¼ ì´ë ‡ê²Œ ë³´ì´ê±°ë‚˜ ê°ì¶”ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.<br />
ì¶”í›„ ë‹¤ì‹œ ì„¤ëª…í•˜ê² ë‹¤.</p>

<pre><code class="language-Javascript">export default NavigationView;
</code></pre>

<p>ì´ë ‡ê²Œ ë§Œë“  NavigationViewë¥¼ exportí•œë‹¤.</p>

<h3 id="3-í™”ë©´-view">3. í™”ë©´ View</h3>

<p>í™”ë©´ Viewë€ ê°ê°ì˜ í™”ë©´ì„ êµ¬ì„±í•˜ëŠ”<br />
HomePageView, BookPageView, NotePageView, SettingPageViewë¥¼ ë§í•œë‹¤.<br />
êµ¬í˜„ì€ ë™ì¼í•˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” HomePageViewë§Œì„ ì„¤ëª…í•˜ê² ë‹¤.</p>

<p>ê·¸ ì „ì— ë¨¼ì €, MainControllerì—ì„œ route ë©”ì„œë“œë¥¼ ë‹¤ì‹œ ì‚´í´ë³´ì.</p>

<pre><code class="language-Javascript">  route() {
    const path = window.location.pathname;

    if (path === '/') {
      HomePageView.setup(page);
      HomeController.init();
      return;
    }
    //...
  }
</code></pre>

<p>routeì—ì„œ URLì˜ ê²½ë¡œë¥¼ ì½ì€ ë’¤,<br />
ê·¸ì™€ ì¼ì¹˜í•˜ëŠ” Viewì™€ Controllerë¥¼ ì°¨ë¡€ë¡œ ì‹¤í–‰í•˜ì˜€ë‹¤.</p>

<p>HomePageViewì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>

<pre><code class="language-Javascript">import View from './View.js';

const HomePageView = Object.create(View);

HomePageView.setup = function (element) {
  this.init(element);
  this.render();
  this.bindElement();
  this.setEvent();
};

HomePageView.render = function () {
  const html = this.getHtml();
  this.replaceChildren(html);
};

HomePageView.getHtml = function () {
  return /* html */ `
    &lt;header class="header"&gt;
      &lt;h1 class="header__title"&gt;ë¶ë ˆìŠ¤íŠ¸&lt;/h1&gt;
      &lt;h3 class="header__message"&gt;ì±…ê³¼ í•¨ê»˜ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš” :)&lt;/h3&gt;
    &lt;/header&gt;
    &lt;div class="content content--home"&gt;
      &lt;a class="home__tab home__search-tab" href="/home/search"&gt;
        &lt;h2&gt;ì±…ì„ ì¶”ê°€í•´ ë³´ì„¸ìš”.&lt;/h2&gt;
        &lt;h3&gt;ì½ê³  ìˆëŠ” ì±…ì´ ìˆë‚˜ìš”?&lt;/h3&gt;
      &lt;/a&gt;
      &lt;a class="home__tab home__tab--calendar" href="/home/calendar"&gt;
        &lt;div&gt;
          &lt;h2&gt;ë…ì„œ ë‹¬ë ¥&lt;/h2&gt;
          &lt;h3&gt;ì´ë²ˆ ë‹¬ì€ ì–¼ë§ˆë‚˜ ì½ì—ˆë‚˜ìš”?&lt;/h3&gt;
        &lt;/div&gt;
        &lt;i class="fa-solid fa-calendar-days"&gt;&lt;/i&gt;
      &lt;/a&gt;
    &lt;/div&gt;
  `;
};

HomePageView.bindElement = function () {
};

HomePageView.setEvent = function () {
};

export default HomePageView;
</code></pre>

<p>NavigationViewì™€ ê±°ì˜ ë™ì¼í•˜ë¯€ë¡œ êµ¬ì²´ì ì¸ ì„¤ëª…ì€ ì¤„ì´ê² ë‹¤.<br />
bindElementì™€ setEventê°€ ë¹„ì–´ìˆëŠ”ë°,<br />
ì´ëŠ” ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ êµ¬í˜„í•  ë¶€ë¶„ì´ë¼ì„œ ì ì‹œ ë¹„ì›Œë‘ì—ˆë‹¤.</p>

<h3 id="4-í™”ë©´-controller">4. í™”ë©´ Controller</h3>

<p>í™”ë©´ Controllerë€ ê°ê°ì˜ í™”ë©´ì„ êµ¬ì„±í•˜ëŠ”<br />
HomeController, BookController, NoteController, SettingControllerë¥¼ ë§í•œë‹¤.<br />
í™”ë©´ Controllerì˜ ì „ì²´ì ì¸ ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<pre><code class="language-Javascript">let isInit = false;

export default {
  init() {
    // í•œ ë²ˆë§Œ ì„ ì–¸ë˜ëŠ” ì½”ë“œ
    if (!isInit) {
      this.setupInnerPage();
      this.addCustomEvent();
      isInit = true;
    }
    // ì¤‘ë³µ ì„ ì–¸ë˜ëŠ” ì½”ë“œ (ì˜ˆ: fetch ë“±)
    // ...
  },

  setupInnerPage() {
  },

  addCustomEvent() {
  },

  // HomePageViewë¥¼ ì¡°ì‘í•˜ëŠ”ë° í•„ìš”í•œ ë©”ì„œë“œ
  // ...
};
</code></pre>
<p>ë„ˆë¬´ ì§§ê³  êµ°ë°êµ°ë° ë¹„ì–´ìˆì§€ ì•Šì€ê°€?<br />
ë‹¹ì—°í•˜ë‹¤. ì•„ì§ ì–´ë–¤ ê¸°ëŠ¥ë„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.<br />
ì•ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì¶”ê°€í•¨ì— ë”°ë¼ ë¹„ì–´ ìˆëŠ” ì˜ì—­ë“¤ì„ ì±„ìš¸ ê²ƒì´ë‹¤.<br />
ì—¬ê¸°ì„œëŠ” ì „ì²´ì ì¸ ë¡œì§ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…í•˜ê² ë‹¤.</p>

<p>ControllerëŠ” í•˜ë‚˜ì˜ ê°ì²´ì´ë©°, ê·¸ ì•ˆì— ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ì†Œìœ í•œë‹¤.<br />
ê°€ì¥ ì¤‘ìš”í•œ ë©”ì„œë“œëŠ” initì´ë‹¤.<br />
initì€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì—­í• ì„ í•˜ë©°,<br />
â€˜í•œ ë²ˆë§Œ ì„ ì–¸ë˜ëŠ” ì½”ë“œâ€™ ì˜ì—­ê³¼ â€˜ì¤‘ë³µ ì„ ì–¸ë˜ëŠ” ì½”ë“œâ€™ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰œë‹¤.</p>

<p>í•œ ë²ˆë§Œ ì„ ì–¸ë˜ëŠ” ì½”ë“œ ì˜ì—­ì—ëŠ”</p>

<p>(ë¯¸ì™„ì„±ì…ë‹ˆë‹¤.)</p>

<h2 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ</h2>
:ET