I"‚<p>Promise ê°ì²´ëŠ” 5ê°€ì§€ì˜ ì •ì  ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>

<h4 id="1-promiseresolve--promisereject">1. Promise.resolve &amp; Promise.reject</h4>

<p>Promise.resolveì™€ Promise.rejectëŠ” ì „ë‹¬ë°›ì€ ê°’ì„ ë˜í•‘í•˜ì—¬ Promiseë¥¼ ìƒì„±í•œë‹¤. Promise.resolveëŠ” ì „ë‹¬ë°›ì€ ê°’ì„ resolveí•˜ëŠ” Promiseë¥¼ ìƒì„±í•œë‹¤.</p>

<pre><code class="language-Javascript">const promise = Promise.resolve(100);
promise.then(console.log); // 100
</code></pre>
<p>ì´ëŠ” ì•„ë˜ ì½”ë“œì™€ ë™ì¼í•˜ë‹¤.</p>
<pre><code class="language-Javascript">const promise = new Promise((resolve) =&gt; resolve(100));
promise.then(console.log); // 100
</code></pre>

<p>Promise.rejectëŠ” ì „ë‹¬ë°›ì€ ê°’ì„ rejectí•˜ëŠ” Promiseë¥¼ ìƒì„±í•œë‹¤.</p>

<pre><code class="language-Javascript">const promise = Promise.reject(new Error('error'));
promise.catch(console.log); // Error: error
</code></pre>
<p>ì´ëŠ” ì•„ë˜ ì½”ë“œì™€ ë™ì¼í•˜ë‹¤.</p>
<pre><code class="language-Javascript">const promise = new Promise((resolve, reject) =&gt; reject(new Error('error')));
promise.catch(console.log); // Error: error
</code></pre>

<h4 id="2-promiseall">2. Promise.all</h4>
<p>Promise.allì€ ì—¬ëŸ¬ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ëª¨ë‘ <strong><u>ë³‘ë ¬ ì²˜ë¦¬</u></strong>í•œë‹¤.</p>

<p><span style="font-size: 1.2rem">Promise.all(iterable)</span></p>

<p>Promise.allì€ Promiseë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ ë“±ì˜ ì´í„°ëŸ¬ë¸”ì„ ì „ë‹¬ë°›ëŠ”ë‹¤. <strong>ì „ë‹¬ë°›ì€ ëª¨ë“  Promiseê°€ ëª¨ë‘ fulfilled ìƒíƒœê°€ ë˜ë©´, ëª¨ë“  ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°°ì—´ì— ì €ì¥í•´ ìƒˆë¡œìš´ Promiseë¥¼ ë°˜í™˜</strong>í•œë‹¤.</p>
<pre><code class="language-Javascript">const promise1 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 5000));
const promise2 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(3), 3000));
const promise3 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(5), 1000));

// ë³‘ë ¬ ì²˜ë¦¬ (ì•½ 5ì´ˆ ì†Œìš”ë¨)
const resultPromise = Promise.all([promise1, promise2, promise3]);
resultPromise.then(console.log); // [1, 3, 5]
</code></pre>
<p>Promise.allì€ ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ Promiseê°€ ëª¨ë‘ fulfilled ìƒíƒœê°€ ë˜ë©´ ì¢…ë£Œí•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Promise.allì´ ì¢…ë£Œí•˜ëŠ” ë° ì†Œìš”ë˜ëŠ” ì‹œê°„ì€, ê°€ì¥ ëŠ¦ê²Œ fulfilled ìƒíƒœê°€ ë˜ëŠ” Promiseì˜ ì‹œê°„ë³´ë‹¤ ì•½ê°„ ë” ê±¸ë¦°ë‹¤. ìœ„ ì½”ë“œì—ì„œëŠ” ì•½ 5ì´ˆê°€ ì†Œìš”ëœë‹¤.</p>

<p>í•œí¸, Promise.allì€ ì²˜ë¦¬ ìˆœì„œë¥¼ ë³´ì¥í•œë‹¤. ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ ì²« ë²ˆì§¸ Promiseê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ fulfilled ë˜ì–´ë„, ê·¸ ì²« ë²ˆì§¸ Promiseì˜ resolve ê²°ê³¼ë¶€í„° ìˆœì„œëŒ€ë¡œ ë°°ì—´ì— ì €ì¥í•œë‹¤.</p>

<p>ê·¸ëŸ¬ë‚˜ ë§Œì¼, ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ Promise ì¤‘ í•˜ë‚˜ë¼ë„ rejected ìƒíƒœê°€ ë˜ë©´, ê·¸ ì¦‰ì‹œ ì²˜ë¦¬ë¥¼ ì¢…ë£Œí•˜ê³  Promiseë¥¼ ë°˜í™˜í•œë‹¤.</p>
<pre><code class="language-Javascript">const promise1 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('one')), 5000));
const promise2 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('two')), 3000));
const promise3 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('three')), 1000));

const resultPromise = Promise.all([promise1, promise2, promise3]);
resultPromise.catch(console.log); // Error: three
</code></pre>
<p>ìœ„ ì½”ë“œì—ì„œ promise3ì´ ê°€ì¥ ë¨¼ì € rejected ìƒíƒœê°€ ëœë‹¤. Promise.allì€ ê·¸ ì¦‰ì‹œ ì¢…ë£Œí•˜ê³  Promiseë¥¼ ë°˜í™˜í•˜ë©°, promise3ì˜ ì—ëŸ¬ê°€ catchë¡œ ì „ë‹¬ëœë‹¤.</p>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, Promise.allì— ì „ë‹¬ëœ ì´í„°ëŸ¬ë¸”ì˜ ìš”ì†Œê°€ Promiseê°€ ì•„ë‹Œ ê²½ìš°ê°€ ìˆë‹¤. ì´ ë•Œ, Promise.resolveë¥¼ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ Promiseë¡œ ë˜í•‘í•œë‹¤.</p>

<pre><code class="language-Javascript">const resultPromise = Promise.all(['a', 'b', 'c']);
resultPromise.then(console.log); // ['a', 'b', 'c']
</code></pre>

<h4 id="3-promiserace">3. Promise.race</h4>
<p><span style="font-size: 1.2rem">Promise.race(iterable)</span></p>

<p>Promise.raceë„ Promiseë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ ë“±ì˜ ì´í„°ëŸ¬ë¸”ì„ ì „ë‹¬ë°›ëŠ”ë‹¤. ê°€ì¥ ë¨¼ì € fulfilledê°€ ëœ Promiseì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ resolveí•˜ëŠ” ìƒˆë¡œìš´ Promiseë¥¼ ë¦¬í„´í•œë‹¤.</p>

<pre><code class="language-Javascript">const promise1 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 5000));
const promise2 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(3), 3000));
const promise3 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(5), 1000));

const resultPromise = Promise.race([promise1, promise2, promise3]);
resultPromise.then(console.log); // 5
</code></pre>
<p>ê°€ì¥ ë¨¼ì € fulfilledê°€ ëœ ê²ƒì€ promise3ì´ë‹¤. promise3ì˜ resolve ì²˜ë¦¬ ê²°ê³¼ëŠ” 5ì´ë‹¤. ë”°ë¼ì„œ 
Promise.raceëŠ” 5ë¥¼ resolveí•˜ëŠ” ìƒˆë¡œìš´ Promiseë¥¼ ë°˜í™˜í•œë‹¤.</p>

<p>í•œí¸, ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ Promise ì¤‘ í•˜ë‚˜ë¼ë„ rejected ìƒíƒœê°€ ë˜ë©´, ê·¸ ì¦‰ì‹œ ì²˜ë¦¬ë¥¼ ì¢…ë£Œí•˜ê³  Promiseë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŠ” Promise.allê³¼ ë™ì¼í•˜ë‹¤.</p>

<pre><code class="language-Javascript">const promise1 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('one')), 5000));
const promise2 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('two')), 3000));
const promise3 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('three')), 1000));

const resultPromise = Promise.race([promise1, promise2, promise3]);
resultPromise.catch(console.log); // Error: three
</code></pre>

<h4 id="4-promiseallsettled">4. Promise.allSettled</h4>
<p><span style="font-size: 1.2rem">Promise.allSettled(iterable)</span></p>

<p>Promise.allSettledëŠ” Promiseë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ ë“±ì˜ ì´í„°ëŸ¬ë¸”ì„ ì „ë‹¬ë°›ëŠ”ë‹¤. ì „ë‹¬ëœ Promiseê°€ ëª¨ë‘ settled ìƒíƒœ(fulfilled or rejected)ê°€ ë˜ë©´ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë¦¬í„´í•œë‹¤.</p>
<pre><code class="language-Javascript">const promise1 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 3000));
const promise2 = new Promise((_, reject) =&gt; setTimeout(() =&gt; reject(new Error('error')), 2000));

const resultPromise = Promise.allSettled([promise1, promise2]);
resultPromise.then(console.log);
/* 
[
  {status: 'fulfilled', value: 1},
  {status: 'rejected', reason: Error: error at &lt;anonymous&gt;:2:69}
] 
*/
</code></pre>
<p>Promise.allSettledê°€ ë¦¬í„´í•œ ë°°ì—´ì—ëŠ” fulfilledë‚˜ rejected ìƒíƒœì™€ëŠ” ê´€ê³„ì—†ì´ ëª¨ë“  Promiseì˜ ê²°ê³¼ê°€ ì €ì¥ë˜ì–´ ìˆë‹¤.</p>

<h3 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ</h3>
<p>â€œëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Diveâ€, ì´ì›…ëª¨, ìœ„í‚¤ë¶ìŠ¤, 2020.09.25, pp.858-863</p>

<p>(ì •ë¦¬í•œ ê¸€ì—ì„œ í‹€ë¦° ê²ƒì´ ìˆë‹¤ë©´ ê¼­ ì§€ì í•´ ì£¼ì„¸ìš”. ê°ì‚¬íˆ ë°°ìš°ê² ìŠµë‹ˆë‹¤)</p>

:ET