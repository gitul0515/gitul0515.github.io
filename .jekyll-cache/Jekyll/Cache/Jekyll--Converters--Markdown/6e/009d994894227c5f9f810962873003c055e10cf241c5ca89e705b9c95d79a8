I"¸&<p><img src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/title.png?raw=true" alt="í‘œì œ ì´ë¯¸ì§€" /></p>

<h2 id="ê²€ìƒ‰-api--ë¬´í•œ-ìŠ¤í¬ë¡¤">ê²€ìƒ‰ API &amp; ë¬´í•œ ìŠ¤í¬ë¡¤</h2>

<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì¹´ì¹´ì˜¤ APIë¥¼ í™œìš©í•˜ì—¬ ì±… ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ ,<br />
ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë³´ê² ë‹¤. ê²°ê³¼ë¬¼ì„ ë¯¸ë¦¬ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<video width="60%" height="60%" controls="controls">
  <source src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/4_0.mp4?raw=true" type="video/mp4" />
</video>

<h3 id="1-ë‚´ë¶€-í˜ì´ì§€-êµ¬í˜„">1. ë‚´ë¶€ í˜ì´ì§€ êµ¬í˜„</h3>

<p>ë¨¼ì € í•„ìš”í•œ ê²ƒì€ ë‚´ë¶€ í˜ì´ì§€ì¸ HomeSearchPageViewë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤.<br />
ê·¸ë¦¬ê³  HomePageViewì™€ HomeSearchPageView ê°„ì˜ ì´ë™, ì¦‰ ë¼ìš°íŒ…ì„ êµ¬í˜„í•  ê²ƒì´ë‹¤.</p>

<p><img style="width: 70%; margin-left: 0; background-color: #fff;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/4_1.png?raw=true" alt="í™”ë©´ ë„ì‹" /></p>

<p>ì‹œì‘í•´ ë³´ì.<br />
í˜„ì¬ HomePageViewëŠ” ë‘ ê°œì˜ íƒ­ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤. (í—¤ë”ëŠ” ì œì™¸)<br />
í•˜ë‚˜ëŠ” â€˜ê²€ìƒ‰ íƒ­â€™ì´ê³  ë‹¤ë¥¸ í•˜ë‚˜ëŠ” â€˜ë‹¬ë ¥ íƒ­â€™ì´ë©°,<br />
ë‘ ê°œì˜ íƒ­ì„ <code class="language-plaintext highlighter-rouge">.home__tabs</code>ë¼ëŠ” ì»¨í…Œì´ë„ˆê°€ ë‹´ê³  ìˆëŠ” êµ¬ì¡°ë‹¤.<br />
ì´ ì¤‘ ê²€ìƒ‰ íƒ­ì„ í´ë¦­í–ˆì„ ë•Œ HomeSearchPageViewë¡œ ì´ë™í•˜ê²Œ ë§Œë“¤ ê²ƒì´ë‹¤.</p>

<p><img style="width: 80%; margin-left: 0; background-color: #fff;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/4_3.png?raw=true" alt="í™ˆ í™”ë©´ êµ¬ì¡°" /></p>

<p>ìš°ì„  ë§ˆí¬ì—…ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>

<pre><code class="language-HTML">  &lt;div class="home__tabs"&gt;
    &lt;a class="home__tab home__tab--search" href="/home/search"&gt;
      &lt;h2&gt;ì±…ì„ ê²€ìƒ‰í•´ ë³´ì„¸ìš”.&lt;/h2&gt;
      &lt;p&gt;ì½ê³  ìˆëŠ” ì±…ì´ ìˆë‚˜ìš”?&lt;/p&gt;
    &lt;/a&gt;
    &lt;a class="home__tab home__tab--calendar" href="/home/calendar"&gt;
      &lt;div&gt;
        &lt;h2&gt;ë…ì„œ ë‹¬ë ¥&lt;/h2&gt;
        &lt;p&gt;ì´ë²ˆ ë‹¬ì€ ì–¼ë§ˆë‚˜ ì½ì—ˆë‚˜ìš”?&lt;/p&gt;
      &lt;/div&gt;
      &lt;i class="fa-solid fa-calendar-days"&gt;&lt;/i&gt;
    &lt;/a&gt;
  &lt;/div&gt;
</code></pre>

<p>ë‹¤ìŒì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë‹¤.</p>

<pre><code class="language-Javascript">// HomePageView.js
HomePageView.bindElement = function () {
  this.tabs = this.element.querySelector('.home__tabs');
};

HomePageView.setEvent = function () {
  this.tabs.addEventListener('click', (e) =&gt; this.onClickTab(e));
};

HomePageView.onClickTab = function (e) {
  const tab = e.target.closest('.home__tab');
  if (tab) {
    e.preventDefault();
    const path = tab.getAttribute('href');
    this.dispatch('@clickTab', { path });
  }
};
</code></pre>

<p><code class="language-plaintext highlighter-rouge">.home__tabs</code>ë¥¼ ë³€ìˆ˜ë¡œ ë°”ì¸ë”© í•œ ë’¤, click ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ <code class="language-plaintext highlighter-rouge">onClickTab</code>ì„ ë“±ë¡í•˜ì˜€ë‹¤.<br />
ì´ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">.home__tabs</code> ë‚´ë¶€ ìš”ì†Œì—ì„œ click ì´ë²¤íŠ¸ê°€ ë°œìƒí•´ë„ <code class="language-plaintext highlighter-rouge">onClickTab</code>ì´ í˜¸ì¶œëœë‹¤.<br />
ì´ë²¤íŠ¸ì˜ ì „íŒŒ ë•Œë¬¸ì´ë‹¤.</p>

<p>í´ë¦­ì´ ë°œìƒí•œ íƒ­ì„ tab ë³€ìˆ˜ì— ì €ì¥í•œ ë’¤, a íƒœê·¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ë§‰ëŠ”ë‹¤.<br />
ê·¸ë¦¬ê³  href ì†ì„±ì—ì„œ pathë¥¼ ê°€ì ¸ì™€ì„œ<br />
ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ <code class="language-plaintext highlighter-rouge">@clickTab</code>ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•˜ê³  pathë¥¼ ì „ë‹¬í•œë‹¤.</p>

<p>ì´ <code class="language-plaintext highlighter-rouge">@clickTab</code>ì€ HomeControllerì—ì„œ ì²˜ë¦¬í•œë‹¤.</p>

<pre><code class="language-Javascript">// HomeController.js
  addCustomEvent() { // ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
    HomePageView
      .on('@clickTab', (e) =&gt; this.onClickTab(e.detail.path));
  },

  onClickTab(path) {
    history.pushState(null, null, path);
    MainController.route();
  },
</code></pre>

<p><code class="language-plaintext highlighter-rouge">@clickTab</code>ì˜ í•¸ë“¤ëŸ¬ëŠ” <code class="language-plaintext highlighter-rouge">onClickTab</code>ë¼ëŠ” ë©”ì„œë“œë‹¤.<br />
ì „ë‹¬ë°›ì€ path ë¬¸ìì—´ë¡œ urlì„ ë³€ê²½í•œ í›„,
MainControllerì˜ route ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</p>

<p>MainControllerì˜ route ë©”ì„œë“œì—ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p>

<pre><code class="language-Javascript">// MainController.js
  route() {
    const path = window.location.pathname;

    if (path === '/' || path === '/home') {
      HomePageView.setup(page);
      HomeController.init();
      NavigationView.show(); // ì¶”ê°€í•œ ì½”ë“œ
      return;
    }
     // ---------- ì¶”ê°€í•œ ì½”ë“œ ----------
    if (path === '/home/search') {
      HomeSearchPageView.render(page);
      NavigationView.hide();
      return;
    }
</code></pre>

<p>pathê°€ <code class="language-plaintext highlighter-rouge">/home/search</code>ì¼ ë•Œ, HomeSearchPageViewë¥¼ ë Œë”ë§í•œë‹¤.<br />
ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">NavigationView.hide</code>ë¥¼ í†µí•´ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”ë¥¼ ê°ì¶˜ë‹¤.</p>

<p>ì ì´ì œ HomeSearchPageView.jsë¥¼ ìƒì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•œë‹¤.</p>

<pre><code class="language-Javascript">import View from './View.js';

const HomeSearchPageView = Object.create(View);

HomeSearchPageView.setup = function (element) {
  this.init(element);
};

HomeSearchPageView.render = function () {
  const html = this.getHtml();
  this.replaceChildren(html);
  this.bindElement();
  this.setEvent();
};

HomeSearchPageView.getHtml = function () {
  return /* html */ `
    &lt;header class="search-page__header"&gt;
      &lt;button class="search-page__btn"&gt;
        &lt;i class="fa-solid fa-arrow-left"&gt;&lt;/i&gt;
      &lt;/button&gt;
    &lt;/header&gt;
    &lt;div class="search-page__content"&gt;
      &lt;h1 class="search-page__title"&gt;ì±…ì„ ì°¾ì•„ë³´ì„¸ìš”!&lt;/h1&gt;
      &lt;form class="search-page__form"&gt;
        &lt;i class="fa-solid fa-magnifying-glass"&gt;&lt;/i&gt;
        &lt;input
        class="search-page__input"
        type="text"
        placeholder="ê²€ìƒ‰í•  ì±…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
        autofocus
        &gt;
      &lt;/form&gt;
    &lt;/div&gt;
    &lt;ul class="search-list"&gt;&lt;/ul&gt;
  `;
};
</code></pre>

<p>ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë§Œë“¤ì–´ì¡Œë‹¤. CSSëŠ” ìƒëµí•˜ë„ë¡ í•˜ê² ë‹¤.</p>

<p><img style="width: 50%; margin-left: 0; background-color: #fff;" src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/4_2.png?raw=true" alt="í™”ë©´ ê²°ê³¼" /></p>

<p><br /></p>

<p>ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼, ì¦‰ <code class="language-plaintext highlighter-rouge">search-page__btn</code>ì„ í´ë¦­í–ˆì„ ë•Œ<br />
ë‹¤ì‹œ HomePageViewë¡œ ì´ë™í•˜ê²Œ ë§Œë“¤ ê²ƒì´ë‹¤.<br />
ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p>

<pre><code class="language-Javascript">HomeSearchPageView.bindElement = function () {
  this.btn = this.element.querySelector('.search-page__btn');
};

HomeSearchPageView.setEvent = function () {
  this.btn.addEventListener('click', () =&gt; this.onClickPrev());
};

HomeSearchPageView.onClickPrev = function () {
  this.dispatch('@clickPrev');
};
</code></pre>

<p><code class="language-plaintext highlighter-rouge">search-page__btn</code>ì„ ë³€ìˆ˜ë¡œ ë°”ì¸ë”©í•˜ê³ , click ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ì˜€ë‹¤.<br />
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">@clickPrev</code>ë¼ëŠ” ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•œë‹¤.</p>

<p>ì´ <code class="language-plaintext highlighter-rouge">@clickPrev</code>ëŠ” HomeControllerì—ì„œ ì²˜ë¦¬í•œë‹¤.</p>

<pre><code class="language-Javascript">// HomeController.js
  addCustomEvent() {
    HomePageView
      .on('@clickTab', (e) =&gt; this.onClickTab(e.detail.path));
    HomeSearchPageView // ì¶”ê°€í•œ ì½”ë“œ
      .on('@clickPrev', () =&gt; this.onclickPrev());
  },

  onClickTab(path) {
    history.pushState(null, null, path);
    MainController.route();
  },

  // ì¶”ê°€í•œ ì½”ë“œ
  onclickPrev() {
    history.pushState(null, null, '/home');
    MainController.route();
  },
</code></pre>

<p>onclickPrevì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">/home</code>ìœ¼ë¡œ URLì„ ë³€ê²½í•˜ê³ <br />
MainControllerì˜ route ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</p>

<p>ì´ë ‡ê²Œ ë‚´ë¶€í˜ì´ì§€ì˜ êµ¬í˜„ ë° ë¼ìš°íŒ…ì´ ì™„ë£Œë˜ì—ˆë‹¤.</p>

<video width="60%" controls="controls">
  <source src="https://github.com/gitul0515/gitul0515.github.io/blob/main/_posts/image/bookrest/3_1.mp4?raw=true" type="video/mp4" />
</video>

<h3 id="2-ì¹´ì¹´ì˜¤-openapi">2. ì¹´ì¹´ì˜¤ OpenAPI</h3>

<p>ì¹´ì¹´ì˜¤ì˜ ë‹¤ìŒ ì±… ì„œë¹„ìŠ¤ì—ì„œëŠ” ë„ì„œ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ëŠ” OpenAPIë¥¼ ì œê³µí•œë‹¤.<br />
ì´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê²ƒì€ API í‚¤ë‹¤.</p>

<blockquote>
  <p>API í‚¤ : ì„œë¹„ìŠ¤ë¥¼ ì•…ìš©í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ì „ í˜‘ì˜ê°€ ì´ë¤„ì§„ ì´ìš©ìì—ê²Œë§Œ í—ˆë½í•˜ëŠ” ì‹ë³„ì</p>
</blockquote>

<p>ì´ API í‚¤ë¥¼ ë°œê¸‰ë°›ìœ¼ë ¤ë©´ ë‹¤ìŒì˜ ì ˆì°¨ê°€ í•„ìš”í•˜ë‹¤.</p>

<ol>
  <li>ê³„ì • ê°€ì…</li>
</ol>

<p>kakao developers ì‚¬ì´íŠ¸ì— ì ‘ì† í›„ ê°€ì… ë° ë¡œê·¸ì¸í•œë‹¤.
<a href="https://developers.kakao.com/">ì‚¬ì´íŠ¸ ë°”ë¡œê°€ê¸°</a></p>

<ol>
  <li>ê°œë°œì ë“±ë¡</li>
  <li>ì•± ë§Œë“¤ê¸°</li>
</ol>

<p>ì¸ì¦ í‚¤ë¥¼ ë°œê¸‰ ë°›ì•„ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>ì¹´ì¹´ì˜¤ì˜ OpenAPIë¥¼ ì‚¬ìš©í•´ë³´ì.</p>

<p>(ë¯¸ì™„ì„±ì…ë‹ˆë‹¤.)</p>

<h3 id="3-ë¬´í•œ-ìŠ¤í¬ë¡¤">3. ë¬´í•œ ìŠ¤í¬ë¡¤</h3>

<h3 id="4-ìŠ¤ë¡œí‹€ë§-ì¶”ê°€">4. ìŠ¤ë¡œí‹€ë§ ì¶”ê°€</h3>

<h2 id="ë“œë¦¬ëŠ”-ë§">ë“œë¦¬ëŠ” ë§</h2>

<p>í•™ìŠµìš© í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ì‘ì„±í•œ ê¸€ì´ë©°, ë¶€ì •í™•í•œ ë‚´ìš©ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì°¸ê³ ë¡œë§Œ ì½ìœ¼ì‹¤ ê²ƒì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.</p>
:ET