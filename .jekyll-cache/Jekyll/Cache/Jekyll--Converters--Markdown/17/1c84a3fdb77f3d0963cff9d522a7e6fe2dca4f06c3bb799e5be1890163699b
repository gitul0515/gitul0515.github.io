I"äe<h3 id="1-ì‚½ì…-í•¨ìˆ˜-êµ¬í˜„">1. ì‚½ì… í•¨ìˆ˜ êµ¬í˜„</h3>

<p>ë ˆë“œë¸”ë™íŠ¸ë¦¬ì˜ ì‚½ì… ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.<br />
ì•„ë˜ì˜ ì½”ë“œì—ì„œ BLACKì€ 1, REDëŠ” 0ìœ¼ë¡œ ì •ì˜ë˜ì—ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
</pre></td><td class="code"><pre><span class="c1">// ë ˆë“œë¸”ë™íŠ¸ë¦¬ì— z ë…¸ë“œë¥¼ ì‚½ì…í•˜ëŠ” í•¨ìˆ˜</span>
<span class="kt">void</span> <span class="nf">RBT_insert</span><span class="p">(</span><span class="n">RBTree</span> <span class="o">*</span><span class="n">T</span><span class="p">,</span> <span class="n">TreeNode</span> <span class="o">*</span> <span class="n">z</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">TreeNode</span> <span class="o">*</span> <span class="n">y</span> <span class="o">=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">;</span> <span class="c1">// y ë…¸ë“œë¥¼ ì„ ì–¸í•˜ì—¬ nilì„ í• ë‹¹í•œë‹¤.</span>
  <span class="n">TreeNode</span> <span class="o">*</span> <span class="n">x</span> <span class="o">=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">root</span><span class="p">;</span> <span class="c1">// x ë…¸ë“œë¥¼ ì„ ì–¸í•˜ì—¬ ë£¨íŠ¸ë¥¼ í• ë‹¹í•œë‹¤.</span>

  <span class="k">while</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// xê°€ nilì´ ì•„ë‹ˆë©´ ë°˜ë³µë¬¸ì„ ìˆ˜í–‰í•œë‹¤.</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>              <span class="c1">// yì— xë¥¼ í• ë‹¹í•œë‹¤. (yëŠ” xë¥¼ í•œ ë ˆë²¨ ì°¨ì´ë¡œ ì«“ì•„ë‚´ë ¤ì˜¨ë‹¤)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&lt;</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">key</span><span class="p">)</span> <span class="c1">// zì˜ keyê°€ xì˜ keyë³´ë‹¤ ì‘ìœ¼ë©´</span>
      <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span> <span class="c1">// xì— xì˜ ì™¼ìª½ ìì‹ì„ í• ë‹¹í•œë‹¤.</span>
    <span class="k">else</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span> <span class="c1">//zì˜ keyê°€ xì˜ keyë³´ë‹¤ í¬ë©´, xì— xì˜ ì˜¤ë¥¸ìª½ ìì‹ì„ í• ë‹¹í•œë‹¤.</span>
  <span class="p">}</span>

  <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span> <span class="c1">// zì˜ ë¶€ëª¨ë¥¼ yë¡œ ë³€ê²½í•œë‹¤.</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">)</span> <span class="c1">// yê°€ nilì´ë¼ë©´</span>
    <span class="n">T</span><span class="o">-&gt;</span><span class="n">root</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span> <span class="c1">// zëŠ” íŠ¸ë¦¬ì˜ ë£¨íŠ¸ë‹¤.</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&lt;</span> <span class="n">y</span><span class="o">-&gt;</span><span class="n">key</span><span class="p">)</span> <span class="c1">// zì˜ keyê°€ yì˜ keyë³´ë‹¤ ì‘ìœ¼ë©´</span>
    <span class="n">y</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span> <span class="c1">// yì˜ ì™¼ìª½ ìì‹ìœ¼ë¡œ zë¥¼ í• ë‹¹í•œë‹¤.</span>
  <span class="k">else</span> <span class="n">y</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span> <span class="c1">// zì˜ keyê°€ yì˜ keyë³´ë‹¤ í¬ë©´, yì˜ ì˜¤ë¥¸ìª½ ìì‹ìœ¼ë¡œ zë¥¼ í• ë‹¹í•œë‹¤.</span>

  <span class="n">z</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">;</span> <span class="c1">// zì˜ ì™¼ìª½ ìì‹ì— nilì„ í• ë‹¹í•œë‹¤.</span>
  <span class="n">z</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">;</span> <span class="c1">// zì˜ ì˜¤ë¥¸ìª½ ìì‹ì— nilì„ í• ë‹¹í•œë‹¤. </span>
  <span class="n">z</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span><span class="p">;</span> <span class="c1">// zì˜ ìƒ‰ê¹”ì„ REDë¡œ í• ë‹¹í•œë‹¤.</span>

  <span class="n">RBT_insert_fixup</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span> <span class="c1">// RBT_insert_fixup í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.</span>
<span class="p">}</span>

<span class="c1">// ì‚½ì… í›„ ë ˆë“œë¸”ë™íŠ¸ë¦¬ì˜ ê·œì¹™ì— ë§ê²Œ ì¡°ì •í•˜ëŠ” í•¨ìˆ˜</span>
<span class="kt">void</span> <span class="nf">RBT_insert_fixup</span><span class="p">(</span><span class="n">RBTree</span> <span class="o">*</span> <span class="n">T</span><span class="p">,</span> <span class="n">TreeNode</span> <span class="o">*</span> <span class="n">z</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">while</span><span class="p">(</span><span class="n">z</span> <span class="o">!=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">root</span> <span class="o">&amp;&amp;</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">==</span> <span class="n">RED</span> <span class="p">){</span> <span class="c1">// zì˜ ë¶€ëª¨ ë…¸ë“œê°€ RED ìƒ‰ê¹”ì¸ ê²½ìš° ë°˜ë³µë¬¸ì„ ìˆ˜í–‰í•œë‹¤.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span> <span class="o">==</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// zì˜ ë¶€ëª¨ê°€ ì™¼ìª½ ìì‹ ë…¸ë“œì¸ ê²½ìš°</span>
      <span class="n">TreeNode</span> <span class="o">*</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ì˜ ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œ yë¥¼ ì„ ì–¸í•œë‹¤.</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">y</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">==</span> <span class="n">RED</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// case 1: ì‚¼ì´Œ ë…¸ë“œ yì˜ ìƒ‰ê¹”ì´ REDì¸ ê²½ìš°</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span> <span class="c1">// zì˜ ë¶€ëª¨ ìƒ‰ê¹”ì„ BLACKìœ¼ë¡œ ë³€ê²½</span>
        <span class="n">y</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span> <span class="c1">// yì˜ ìƒ‰ê¹”ì„ BLACKìœ¼ë¡œ ë³€ê²½</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span><span class="p">;</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ì˜ ìƒ‰ê¹”ì„ REDë¡œ ë³€ê²½</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span> <span class="c1">// zë¥¼ zì˜ ì¡°ë¶€ëª¨ë¡œ ë³€ê²½í•œë‹¤ (zì˜ ì¡°ë¶€ëª¨ì—ì„œ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ)</span>
      <span class="p">}</span> 
      <span class="k">else</span> <span class="p">{</span> <span class="c1">// ì‚¼ì´Œ ë…¸ë“œ yì˜ ìƒ‰ê¹”ì´ BLACKì¸ ê²½ìš° (nil ë…¸ë“œ í¬í•¨)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">z</span> <span class="o">==</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// case 2: zê°€ ë¶€ëª¨ì˜ ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì¸ ê²½ìš°</span>
          <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span> <span class="c1">// zë¥¼ zì˜ ë¶€ëª¨ë¡œ ë³€ê²½í•œë‹¤.</span>
          <span class="n">left_rotate</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span> <span class="c1">// left_rotate í•¨ìˆ˜ë¥¼ í˜¸ì¶œ</span>
        <span class="p">}</span> <span class="c1">// case 3: zê°€ ë¶€ëª¨ì˜ ì™¼ìª½ ìì‹ ë…¸ë“œì¸ ê²½ìš°</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span> <span class="c1">// zì˜ ë¶€ëª¨ì˜ ìƒ‰ê¹”ì„ BLACKìœ¼ë¡œ ë³€ê²½</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span><span class="p">;</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ì˜ ìƒ‰ê¹”ì„ REDë¡œ ë³€ê²½</span>
        <span class="n">right_rotate</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">);</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ë¥¼ ê¸°ì¤€ìœ¼ë¡œ right_rotate í•¨ìˆ˜ë¥¼ í˜¸ì¶œ</span>
      <span class="p">}</span>
    <span class="p">}</span> 
    <span class="k">else</span> <span class="p">{</span> <span class="c1">// zì˜ ë¶€ëª¨ê°€ ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì¸ ê²½ìš° (ìœ„ ê²½ìš°ì™€ left-rightê°€ ëŒ€ì¹­ëœë‹¤)</span>
      <span class="n">TreeNode</span> <span class="o">*</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ì˜ ì™¼ìª½ ìì‹ ë…¸ë“œ yë¥¼ ì„ ì–¸í•œë‹¤.</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">y</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">==</span> <span class="n">RED</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// case 4: ì‚¼ì´Œ ë…¸ë“œ yì˜ ìƒ‰ê¹”ì´ REDì¸ ê²½ìš°</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span> <span class="c1">// zì˜ ë¶€ëª¨ ìƒ‰ê¹”ì„ BLACKìœ¼ë¡œ ë³€ê²½</span>
        <span class="n">y</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span> <span class="c1">// yì˜ ìƒ‰ê¹”ì„ BLACKìœ¼ë¡œ ë³€ê²½</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span><span class="p">;</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ì˜ ìƒ‰ê¹”ì„ REDë¡œ ë³€ê²½</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span> <span class="c1">// zë¥¼ zì˜ ì¡°ë¶€ëª¨ë¡œ ë³€ê²½í•œë‹¤ (zì˜ ì¡°ë¶€ëª¨ì—ì„œ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ)</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span> <span class="c1">// ì‚¼ì´Œ ë…¸ë“œ yì˜ ìƒ‰ê¹”ì´ BLACKì¸ ê²½ìš° (nil ë…¸ë“œ í¬í•¨)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">z</span> <span class="o">==</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// case 5: zê°€ ë¶€ëª¨ì˜ ì™¼ìª½ ìì‹ ë…¸ë“œì¸ ê²½ìš°</span>
          <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span> <span class="c1">// zë¥¼ zì˜ ë¶€ëª¨ë¡œ ë³€ê²½í•œë‹¤.</span>
          <span class="n">right_rotate</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span> <span class="c1">// right_rotate í•¨ìˆ˜ í˜¸ì¶œ</span>
        <span class="p">}</span> <span class="c1">// case 6: zê°€ ë¶€ëª¨ì˜ ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì¸ ê²½ìš°</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span> <span class="c1">// zì˜ ë¶€ëª¨ì˜ ìƒ‰ê¹”ì„ BLACKìœ¼ë¡œ ë³€ê²½</span>
        <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span><span class="p">;</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ì˜ ìƒ‰ê¹”ì„ REDë¡œ ë³€ê²½</span>
        <span class="n">left_rotate</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">);</span> <span class="c1">// zì˜ ì¡°ë¶€ëª¨ë¥¼ ê¸°ì¤€ìœ¼ë¡œ left_rotate í•¨ìˆ˜ í˜¸ì¶œ</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">T</span><span class="o">-&gt;</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<h3 id="2-ë ˆë“œë¸”ë™íŠ¸ë¦¬ì˜-ë¸”ë™ë†’ì´">2. ë ˆë“œë¸”ë™íŠ¸ë¦¬ì˜ ë¸”ë™ë†’ì´</h3>

<p>ë ˆë“œë¸”ë™íŠ¸ë¦¬ì—ëŠ” â€˜ë¸”ë™ë†’ì´â€™ë¼ëŠ” ê²ƒì´ ì¡´ì¬í•œë‹¤.<br />
ì´ëŠ” íŠ¹ì •í•œ ë…¸ë“œë¡œë¶€í„° ë¦¬í”„ë…¸ë“œê¹Œì§€ì˜ ê²½ë¡œìƒì— ìˆëŠ”<br />
ë¸”ë™ ë…¸ë“œì˜ ê°œìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.</p>

<p>ì´ë¯¸ì§€ ì‚½ì…</p>

<p>ì‹œì‘ ë…¸ë“œëŠ” ìƒ‰ê¹”ì´ ë¸”ë™ì´ë”ë¼ë„ í¬í•¨ë˜ì§€ ì•ŠìŒì— ìœ ì˜í•˜ì.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre><span class="c1">// x ë…¸ë“œì˜ ë¸”ë™ë†’ì´ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜</span>
<span class="kt">int</span> <span class="nf">get_black_height</span><span class="p">(</span><span class="n">RBTree</span><span class="o">*</span> <span class="n">T</span><span class="p">,</span> <span class="n">TreeNode</span><span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">black_node_count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="cm">/* ë ˆë“œë¸”ë™íŠ¸ë¦¬ì˜ íŠ¹ì„± 4ì— ì˜í•˜ì—¬, 
  xì—ì„œ ì–´ë–¤ ê²½ë¡œë¡œ ë‚´ë ¤ê°€ë“  ë¸”ë™ë†’ì´ëŠ” ë™ì¼í•˜ë‹¤. */</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// xê°€ nil ë…¸ë“œê°€ ì•„ë‹ˆë©´ ë°˜ë³µë¬¸ì„ ìˆ˜í–‰í•œë‹¤.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">!=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">nil</span><span class="p">)</span> <span class="c1">// xì˜ ì™¼ìª½ ìì‹ì´ ì¡´ì¬í•œë‹¤ë©´</span>
      <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span> <span class="c1">// xë¥¼ xì˜ ì™¼ìª½ ìì‹ìœ¼ë¡œ ë³€ê²½í•œë‹¤.</span>
    <span class="k">else</span> <span class="c1">// ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ (xê°€ ë‹¨ë§ ë…¸ë“œì´ê±°ë‚˜ ì˜¤ë¥¸ìª½ ìì‹ë§Œ ì¡´ì¬í•˜ëŠ” ê²½ìš°)</span>
      <span class="n">x</span><span class="o">=</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span> <span class="c1">// xë¥¼ xì˜ ì˜¤ë¥¸ìª½ ìì‹ìœ¼ë¡œ ë³€ê²½í•œë‹¤.</span>

    <span class="c1">// ë…¸ë“œì˜ ìƒ‰ê¹”ì´ ë¸”ë™ì´ë©´ ê°œìˆ˜ë¥¼ 1 ì¦ê°€ì‹œí‚¨ë‹¤. (nil ë…¸ë“œ í¬í•¨)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACK</span><span class="p">)</span>
      <span class="n">black_node_count</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">black_node_count</span><span class="p">;</span> <span class="c1">// ë¸”ë™ ë…¸ë“œì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<h3 id="3-ê²°ê³¼-ì¶œë ¥">3. ê²°ê³¼ ì¶œë ¥</h3>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="code"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">RBTree</span><span class="o">*</span> <span class="n">T</span> <span class="o">=</span> <span class="n">create_RBTree</span><span class="p">();</span> <span class="c1">// ë ˆë“œë¸”ë™íŠ¸ë¦¬ ìƒì„± ë° ì´ˆê¸°í™”</span>

  <span class="c1">// ë…¸ë“œ ìƒì„±</span>
  <span class="n">TreeNode</span><span class="o">*</span> <span class="n">node_30</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span> 
  <span class="n">TreeNode</span><span class="o">*</span> <span class="n">node_20</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span> 
  <span class="n">TreeNode</span><span class="o">*</span> <span class="n">node_10</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> 
  <span class="n">TreeNode</span><span class="o">*</span> <span class="n">node_40</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span> 
  <span class="n">TreeNode</span><span class="o">*</span> <span class="n">node_50</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span> 
  <span class="n">TreeNode</span><span class="o">*</span> <span class="n">node_60</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">(</span><span class="mi">60</span><span class="p">);</span> 

  <span class="c1">// ë ˆë“œë¸”ë™íŠ¸ë¦¬ì— ì‚½ì…</span>
  <span class="n">RBT_insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_30</span><span class="p">);</span>
  <span class="n">RBT_insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_20</span><span class="p">);</span>
  <span class="n">RBT_insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_10</span><span class="p">);</span>
  <span class="n">RBT_insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_40</span><span class="p">);</span>
  <span class="n">RBT_insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_50</span><span class="p">);</span>
  <span class="n">RBT_insert</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_60</span><span class="p">);</span>

  <span class="c1">// ê²°ê³¼ ì¶œë ¥</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"ì‚½ì… ê²°ê³¼</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"=================================================</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"node_20ì˜ ë¸”ë™ë†’ì´: %d, ì»¬ëŸ¬: %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
  <span class="n">get_black_height</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_20</span><span class="p">),</span> <span class="n">node_20</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"node_10ì˜ ë¸”ë™ë†’ì´: %d, ì»¬ëŸ¬: %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
  <span class="n">get_black_height</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_10</span><span class="p">),</span> <span class="n">node_10</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"node_40ì˜ ë¸”ë™ë†’ì´: %d, ì»¬ëŸ¬: %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
  <span class="n">get_black_height</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_40</span><span class="p">),</span> <span class="n">node_40</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"node_30ì˜ ë¸”ë™ë†’ì´: %d, ì»¬ëŸ¬: %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
  <span class="n">get_black_height</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_30</span><span class="p">),</span> <span class="n">node_30</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"node_50ì˜ ë¸”ë™ë†’ì´: %d, ì»¬ëŸ¬: %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
  <span class="n">get_black_height</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_50</span><span class="p">),</span> <span class="n">node_50</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"node_60ì˜ ë¸”ë™ë†’ì´: %d, ì»¬ëŸ¬: %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> 
  <span class="n">get_black_height</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">node_60</span><span class="p">),</span> <span class="n">node_60</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"     (ì»¬ëŸ¬ 1ì€ BLACK, 0ì€ RED) </span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>ê²°ê³¼ ì´ë¯¸ì§€</p>

:ET