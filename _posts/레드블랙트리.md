---
layout: post
title: 레드블랙트리
subtitle: 자가균형(self-balancing) 이진탐색트리
categories: markdown
tags: [test]
---

### 1. 배경

이진탐색트리는 최악의 경우,
즉 트리의 균형이 한쪽으로 치우칠 경우 
O(n)의 시간복잡도를 갖는다. 

이러한 단점을 보완하기 위해 제안된 
자가균형(self-balancing) 트리 디자인으로
레드블랙트리, AVL 트리가 있다. 

이번 글에서는 레드블랙트리 알고리즘에 대해 정리해본다.

### 2. 기본 원리

레드블랙트리는 이진탐색트리의 모든 노드에 
블랙 또는 레드의 색을 칠하되
다음의 법칙을 만족해야 한다.

>1. 루트는 블랙이다.
>2. 모든 리프는 블랙이다.
>3. 레드 노드의 자식은 반드시 블랙이다.
>   (블랙 노드의 자식은 어떤 색이든 관계없다)
>4. 루트노드에서 임의의 리프 노드에 이르는 경로에서
>   만나는 블랙 노드의 수는 동일하다. **매우 중요**

레드블랙트리에서의 리프는 일반적인 리프 노드와 다르다.
모든 NIL 포인터가 NIL라는 리프 노드를 가리킨다고 가정한다.

*NIL 포인터: 아무것도 가리키지 않는 빈(empty) 포인터


### 3. 레드블랙트리에서의 삽입

기본적으로 이진탐색트리에서의 삽입과 같다.
다만, 삽입된 노드(x)를 레드로 칠한다.

이때 만일 x의 부모 노드 p의 색깔이
 1. 블랙이라면 아무 문제가 없다.
 2. 레드라면 기본 원리 3에 위배된다.

그러므로 부모 노드인 p가 레드인 경우만 고려하면 된다.


이때 p2와 x의 형제 노드는 반드시 블랙이다. 
그리고 s의 색깔에 따라 두 경우로 나뉜다. 



### 그 외 알아둘 것들
레드블랙트리보다 AVL 트리가 균형을 더 잘 잡는 편이다.